<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:m="http://schemas.microsoft.com/office/2004/12/omml">

<head>
<meta charset="utf-8" />
<meta charset="utf-8" />
<meta charset="utf-8" />
<meta charset="utf-8" />
<meta http-equiv="Content-Language" content="es" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>INTERNET</title>
<style type="text/css">
.style3 {
	border-color: #FFFFFF;
	border-width: 0;
	background-color: #3399FF;
		font-size: x-large;
		border-collapse: collapse;
}
.style4 {
	font-family: "Times New Roman", Times, serif;
	text-align: left;
	color: #000000;
}
.style8 {
	border: 1px solid #FFFFFF;
	font-family: "Times New Roman", Times, serif;
		background-color: #3399FF;
	color: #FFFFFF;
}
.style9 {
	border-left: 3px solid #FFFFFF;
	border-right: medium solid #FFFFFF;
	border-top: 3px solid #FFFFFF;
	border-bottom: 3px solid #FFFFFF;
	font-family: "Times New Roman", Times, serif;
		text-align: center;
		font-size: 100pt;
		background-color: #3399FF;
		color: #FFFFFF;
}
.style11 {
	color: #000000;
}
.style12 {
	text-decoration: none;
}
.style14 {
	border-collapse: collapse;
	border-right-width: 0px;
	border-top-width: 0px;
	border-bottom-width: 0px;
}
.style15 {
	border: 0 solid #CCFFFF;
	font-family: "Times New Roman", Times, serif;
	background-color: #CCFFFF;
}
.style19 {
	margin-left: 40px;
}
.style20 {
	font-family: "Times New Roman", Times, serif;
	text-align: left;
	color: #000000;
	background-color: #33CCFF;
}
.style21 {
	color: #FFFFFF;
}
.style22 {
	font-family: "Times New Roman", Times, serif;
	text-align: left;
	color: #FFFFFF;
}
.style23 {
	font-family: "Times New Roman", Times, serif;
	text-align: left;
	color: #FFFFFF;
	background-color: #33CCFF;
}
.submenu-historia {
    display: none;
    background-color: #33CCFF;
}     
.style26 {
	border-width: 0;
	font-family: "Times New Roman", Times, serif;
	text-align: left;
	color: #000000;
}
.style27 {
	text-indent: 40px;
}
.submenu-navegadores,
.submenu-protocolos,
.submenu-webs {
    display: none;
    background-color: #33CCFF;
}
.style29 {
	color: #FFFFFF;
	text-align: center;
	font-size: 40pt;
	background-color: #33CCFF;
}
.style30 {
	text-align: left;
}
</style>

<script type="text/javascript">
var timers = {};

function mostrarGrupo(clase) {
    if (timers[clase]) {
        clearTimeout(timers[clase]);
    }

    var elementos = document.querySelectorAll('.' + clase);
    elementos.forEach(function(el) {
        el.style.display = 'table-row';
    });
}

function ocultarGrupo(clase) {
    timers[clase] = setTimeout(function() {
        var elementos = document.querySelectorAll('.' + clase);
        elementos.forEach(function(el) {
            el.style.display = 'none';
        });
    }, 5000); 
}
</script>

<script type="text/javascript">
function publicarOpinion() {
    var nombre = document.getElementById("nombre").value;
    var opinion = document.getElementById("opinion").value;

    if (nombre === "" || opinion === "") {
        alert("Completa todos los campos");
        return;
    }

    // Enviar la nueva opinión al servidor usando fetch
    fetch('http://localhost:5000/api/opiniones', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ nombre: nombre, opinion: opinion })
    })
    .then(response => response.json())
    .then(data => {
        console.log('Opinión publicada:', data);
        mostrarOpiniones();  // Recargar las opiniones desde el servidor
    })
    .catch(error => {
        console.error('Error:', error);
    });

    document.getElementById("nombre").value = "";
    document.getElementById("opinion").value = "";
}
</script>

<script type="text/javascript">
function mostrarOpiniones() {
    var contenedor = document.getElementById("listaOpiniones");
    contenedor.innerHTML = "";

    // Obtener las opiniones desde el servidor usando fetch
    fetch('http://localhost:5000/api/opiniones')
        .then(response => response.json())
        .then(opiniones => {
            opiniones.forEach(function(op) {
                var div = document.createElement("div");
                div.style.border = "1px solid #3399FF";
                div.style.padding = "10px";
                div.style.marginBottom = "10px";
                div.style.backgroundColor = "#E6F5FF";

                div.innerHTML =
                    "<strong>" + op.nombre + "</strong><br />" +
                    "<p>" + op.opinion + "</p>";

                contenedor.appendChild(div);
            });
        })
        .catch(error => {
            console.error('Error al cargar las opiniones:', error);
        });
}
</script>

</head>

<body onload="mostrarOpiniones()">

<table style="width: 1366px; height: 600px;" class="style14">
	<tr>
		<td class="style9" style="height: 167px;" colspan="2">INTERNET</td>
	</tr>
	<tr>
		<td class="style29" style="height: 72px;" colspan="2">FORO DE OPINIONES</td>
	</tr>
	<tr>
		<td class="style8" style="width: 229px" valign="top">
		<table style="width: 250px; height: 300px;" class="style3" cellspacing="0" cellpadding="0">
			<tr>
				<td class="style4" style="width: 100px; " rowspan="2">
				&nbsp;</td>
				<td class="style22" style="width: 300px; height: 44px;">
				<p class="style11"><a class="style12" href="index.htm">
				<span class="style21">INICIO</span></a></p>
				</td>
			<tr class="menu-definicion"
			    onmouseover="mostrarGrupo('submenu-historia');"
			    onmouseout="ocultarGrupo('submenu-historia');">
				<td class="style22" style="width: 300px">
					<p class="style11">
						<a class="style12" onclick="toggleMenu();" href="default.htm">
							<span class="style21">DEFINICIÓN</span>
						</a>
					</p>
				</td>
			</tr>			
			<tr class="submenu-historia">
				<td class="style20">&nbsp;</td>
				<td class="style23">
					<p class="style19">
						<a class="style12" href="Historia.htm">
							<span class="style21">Historia</span>
						</a>
					</p>
				</td>
			</tr>

			<tr>
				<td class="style4" style="width: 100px; ">
				&nbsp;</td>
				<td class="style22" style="width: 300px">
				<p class="style21"><a class="style12" href="Tarjeta.htm">
				<span class="style21">TARJETA</span></a></p>
				</td>
			</tr>

			<tr>
				<td class="style4" style="width: 100px; ">
				&nbsp;</td>
				<td class="style22" style="width: 300px">
				<p class="style11"><a class="style12" href="Conexiones.htm">
				<span class="
